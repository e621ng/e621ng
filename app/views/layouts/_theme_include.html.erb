<%= javascript_tag nonce: true do -%>
(function() {
  try {
    const values = {
      // Theme
      "th-main": localStorage.getItem("theme") || "hexagon",
      "th-extra": localStorage.getItem("theme-extra") || "hexagon",
      "th-sheader": localStorage.getItem("theme-sheader") || false,
      "th-palette": localStorage.getItem("theme-palette") || "default",
      "th-font": localStorage.getItem("theme-font") || "Verdana",
      "th-nav": localStorage.getItem("theme-nav") || "top",

      // Settings
      "st-fullscreen": localStorage.getItem("e6.posts.fusk") || false,
      "st-ssearch": localStorage.getItem("e6.posts.ssearch") || false,
    };

    var b = document.body;
    for (const [name, value] of Object.entries(values)) {
      b.setAttribute("data-" + name, value);
    }
  } catch(e) {}
})();
<% end -%>
