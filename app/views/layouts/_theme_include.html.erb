<%= javascript_tag nonce: true do -%>
(function() {
  try {
    var theme = localStorage.getItem('theme') || 'hexagon';
    var extra = localStorage.getItem('theme-extra') || 'hexagon';
    var sheader = localStorage.getItem('theme-sheader') || false;
    var palette = localStorage.getItem('theme-palette') || 'default';
    var nav = localStorage.getItem('theme-nav') || 'top';
    var b = document.body;
    b.setAttribute('data-th-main', theme);
    b.setAttribute('data-th-extra', extra);
    b.setAttribute('data-th-sheader', sheader);
    b.setAttribute('data-th-palette', palette);
    b.setAttribute('data-th-nav', nav);
  } catch(e) {}
})();
<% end -%>
